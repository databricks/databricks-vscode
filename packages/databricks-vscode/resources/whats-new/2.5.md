<img src="./1.2/databricks-logo.png" alt="databricks-logo" width="100"/>

# Databricks Extension v2.5.0

## What's new?

-   [Validation and partial update actions for pipelines](#validation)
-   [Pipeline events and diagnostics](#events)
-   [Pipeline datasets and their schema](#datasets)
-   [Quick run action](#quick-run)

### <a id="validation"></a> Validation and partial update actions for pipelines

In previous versions, you could only trigger a “refresh all” pipeline update. Now we offer validation and partial update actions:

<img src="./2.5/validation.png" alt="validation action" width="600"/>

In addition to that, the partial update action preloads datasets from past runs, lets you type in table names manually, or select the full-refresh option:

<img src="./2.5/partial-update.png" alt="partial update action" width="600"/>

### <a id="events"></a> Pipeline events and diagnostics

During and after a pipeline update, the extension now shows events in the resource explorer UI:

<img src="./2.5/events.png" alt="pipeline events" width="600"/>

Any warnings or errors that have source locations are also displayed in VSCode’s Problems panel and highlighted in the source files themselves:

<img src="./2.5/diagnostics.gif" alt="pipeline diagnostics" width="600"/>

### <a id="datasets"></a> Pipeline datasets and their schema

You can now see pipeline datasets and their schema:

<img src="./2.5/datasets.png" alt="pipeline datasets" width="600"/>

Datasets are gathered from the events of past runs, so make sure to update or validate your pipeline at least once.

### <a id="quick-run"></a> Quick run action

All run and update actions used to be tied to the resource explorer UI, but now you can also use a "deploy the bundle and run a resource" command from the command palette or with a keyboard shortcut:

<img src="./2.5/run-command-search.png" alt="pipeline datasets" width="600"/>

By default, we will ask you what resource you want to execute:
<img src="./2.5/run-command-ui.png" alt="pipeline datasets" width="600"/>

You can also specify a shortcut to run the command with specific arguments.

Open keyboard shortcuts JSON (execute this command `Preferences: Open Keyboard Shortcuts (JSON)`). Add a new entry to the `keybindings` array:

```json
{
    // Replace with your desired shortcut
    "key": "ctrl+shift+x",
    "command": "databricks.bundle.deployAndRunFromInput",
    "args": {
        // "jobs" or "pipelines"
        "resourceType": "pipelines",
        // The key of the pipeline or job you want to run, as defined in your asset bundle configuration
        "resourceKey": "my_pipeline_key",
        // Any flags that will be passed to the "databricks bundle run" command
        "args": "--validate-only"
    }
}
```
